webpackJsonp([19],{"K+KB":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"summarizesList"},[t._m(0),t._v(" "),s("el-table",{staticStyle:{width:"90%",margin:"0 auto"},attrs:{data:t.tableData,border:"","column-key":"",size:"mini"}},[s("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),s("el-table-column",{attrs:{label:"描述",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("router-link",{attrs:{to:{path:"/discussMsg",query:{id:e.row._id}}}},[t._v(t._s(e.row.title))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"状态",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.state?s("el-tag",{attrs:{size:"medium",type:"info"}},[t._v("未开启")]):t._e(),t._v(" "),1===e.row.state?s("el-tag",{attrs:{size:"medium",type:"primary"}},[t._v("正在进行")]):t._e(),t._v(" "),2===e.row.state?s("el-tag",{attrs:{size:"medium",type:"danger"}},[t._v("已结束")]):t._e()]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"createdAt",label:"时间",width:"250"}}),t._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[2!==e.row.state?s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(s){t.changeIndex(e.row._id)}}},[t._v("修改")]):t._e(),t._v(" "),0===e.row.state?s("el-button",{attrs:{type:"info",size:"small"},on:{click:function(s){t.updateMsg(e.row._id,e.row.state)}}},[t._v("开启\n        ")]):t._e(),t._v(" "),1===e.row.state?s("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(s){t.updateMsg(e.row._id,e.row.state)}}},[t._v("结束\n        ")]):t._e()]}}])})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"type"},[e("h1",[this._v("民主评议列表")])])}]};var n=s("VU/8")({name:"list",data:function(){return{tableData:[],item:{}}},methods:{changeIndex:function(t){this.$router.push({path:"/discuss/editor",query:{id:t}})},updateMsg:function(t,e){var s=this,a={id:t,state:e+1};this.$axios.post("updateDiscuss",a).then(function(t){200==t.code?(s.getMsg(),s.$message({message:t.msg,type:"success"})):s.$message.error(t.msg)})},getMsg:function(){var t=this;this.$axios.get("getDiscuss").then(function(e){t.tableData=e.data})}},mounted:function(){this.getMsg()}},a,!1,function(t){s("u+/e")},"data-v-08f455ca",null);e.default=n.exports},"u+/e":function(t,e){}});
//# sourceMappingURL=19.88d05a79e46f546ccd14.js.map