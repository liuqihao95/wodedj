webpackJsonp([17],{afPy:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"DNF"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addMsg()}}},[t._v("添加通知")])],1),t._v(" "),i("el-table",{staticStyle:{width:"80%",margin:"0 auto"},attrs:{data:t.tableData,border:""}},[i("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),i("el-table-column",{attrs:{prop:"title",label:"标题",width:"160"}}),t._v(" "),i("el-table-column",{attrs:{prop:"author",label:"发布单位",width:"160"}}),t._v(" "),i("el-table-column",{attrs:{prop:"createTime",label:"时间",width:"160"}}),t._v(" "),i("el-table-column",{attrs:{label:"内容"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){t.showMsg(e.row)}}},[t._v("详情")]),t._v(" "),i("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(i){t.editorMsg(e.row._id)}}},[t._v("编辑")]),t._v(" "),i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){t.delMsg(e.row._id)}}},[t._v("删除")])]}}])})],1),t._v(" "),i("el-dialog",{attrs:{title:"通知内容",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("span",[t._v(t._s(t.item.content))]),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("关闭")])],1)])],1)},staticRenderFns:[]};var o=i("VU/8")({name:"list",data:function(){return{tableData:[],dialogVisible:!1,item:{}}},methods:{addMsg:function(){this.$router.push("/notice/add")},editorMsg:function(t){this.$router.push({path:"/notice/editor",query:{id:t}})},showMsg:function(t){this.item=t,this.dialogVisible=!0},getMsg:function(){var t=this;this.$axios.post("getNotices").then(function(e){t.tableData=e.data})},delMsg:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("delNotices",{id:t}).then(function(t){200===t.code&&(e.$message({type:"success",message:"删除成功!"}),e.getMsg())})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}},created:function(){this.getMsg()}},n,!1,function(t){i("vrIc")},"data-v-30e621e6",null);e.default=o.exports},vrIc:function(t,e){}});
//# sourceMappingURL=17.0662236175600ae48c68.js.map